apply plugin: 'com.android.application'
apply plugin: 'svg'

svg {
    // é…ç½®vectorç›®å½•ï¼Œå¯ä»¥é…ç½®å¤šä¸ª(å¦‚æœç›´æ¥ä½¿ç”¨svgæ ¼å¼å›¾ç‰‡ï¼Œå¯ä»¥ä¸é…ç½®æ­¤é¡¹)
    vectorDirs = ["src/main/res_vector/drawable"]
    // é…ç½®ç”Ÿæˆç©ºshapeæ–‡ä»¶ç›®å½•
    shapeDir = "src/main/res_shape/drawable"
    // é…ç½®ç”Ÿæˆjavaæ–‡ä»¶ç›®å½•
    javaDir = "src/main/java/me/jessyan/mvparms/demo/drawables"

    // è‡ªåŠ¨å°†vectorå’Œshapeèµ„æºæ–‡ä»¶æ·»åŠ åˆ°SourceSetï¼Œæ­¤é¡¹é»˜è®¤æ˜¯trueï¼Œå¯ä»¥ä¸è®¾ç½®
    autoSourceSet = true

    // å®šä¹‰svgç”Ÿæˆvectorçš„é…ç½®ï¼Œå¯ä»¥é…ç½®å¤šä¸ªç›®å½•ï¼Œæ–¹ä¾¿å›¾ç‰‡åˆ†ç±»
    svg2vector {
        svg_a {
            svgDir = "${projectDir}/svg_a"
            vectorDir = "src/main/res_svg/drawable"
            // é…ç½®ç”Ÿæˆçš„vectorå°ºå¯¸ï¼Œä¸è®¾ç½®å°†æŒ‰ç…§å›¾ç‰‡å°ºå¯¸å¤§å°
            // æ³¨æ„æ­¤å¤„å®½é«˜æ¯”è¦ä¸å›¾ç‰‡å®½é«˜æ¯”ä¸€è‡´ï¼Œå¦åˆ™å›¾ç‰‡ä¼šå˜å½¢
//            height = 48
//            width = 48
        }
//        svg_b {
//            svgDir = "${projectDir}/svg_b"
//            vectorDir = "src/main/res_svg/drawable"
//            height = 48
//            width = 48
//        }
    }

}

android {


    compileSdkVersion 28
    buildToolsVersion '28.0.3'
    useLibrary 'org.apache.http.legacy'

    compileOptions {
        targetCompatibility JavaVersion.VERSION_1_8
        sourceCompatibility JavaVersion.VERSION_1_8
    }

    defaultConfig {
        applicationId "me.jessyan.mvparms.demo"
        minSdkVersion rootProject.ext.android["minSdkVersion"]
        targetSdkVersion rootProject.ext.android["targetSdkVersion"]
        versionCode rootProject.ext.android["versionCode"]
        versionName rootProject.ext.android["versionName"]
        testInstrumentationRunner rootProject.ext.dependencies["androidJUnitRunner"]
        vectorDrawables.useSupportLibrary = true
        manifestPlaceholders = [UMENG_CHANNEL_VALUE :"default"]
    }

    buildTypes {
        debug {
            buildConfigField "boolean", "LOG_DEBUG", "true"
            buildConfigField "boolean", "USE_CANARY", "true"
            minifyEnabled false
//            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }

        release {
            buildConfigField "boolean", "LOG_DEBUG", "false"
            buildConfigField "boolean", "USE_CANARY", "false"
            minifyEnabled true
            shrinkResources true
            zipAlignEnabled true
//            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    lintOptions {
        disable 'InvalidPackage'
        disable "ResourceType"
        abortOnError false
    }
    buildToolsVersion '28.0.3'

//    sourceSets {
//        // ä¸ºäº†å¼€å‘æ—¶èƒ½å¼•ç”¨vectoræ–‡ä»¶æ–¹ä¾¿é¢„è§ˆï¼Œå°†å­˜æ”¾vectoræ–‡ä»¶ç›®å½•æ·»åŠ åˆ°èµ„æºæ–‡ä»¶ç›®å½•ä¸­
//        debug {
//            java.srcDirs = ['src/main/java']
//            res.srcDirs = ['src/main/res', 'src/main/res_vector']
//        }
//        release {
//            java.srcDirs = ['src/main/java']
//            res.srcDirs = ['src/main/res']
//        }
//    }
    //å•å…ƒæµ‹è¯•
    testOptions {
        unitTests {
            includeAndroidResources = true
        }
    }
}

dependencies {
    implementation fileTree(include: ['*.jar'], dir: 'libs')
    //tools
    //æ³¨æ„ Arms æ ¸å¿ƒåº“ç°åœ¨å¹¶ä¸ä¼šä¾èµ–æŸä¸ª EventBus, è¦æƒ³ä½¿ç”¨ EventBus, è¿˜è¯·åœ¨é¡¹ç›®ä¸­è‡ªè¡Œä¾èµ–å¯¹åº”çš„ EventBus
    //ç°åœ¨æ”¯æŒä¸¤ç§ EventBus, greenrobot çš„ EventBus å’Œç•…é”€ä¹¦ ã€ŠAndroidæºç è®¾è®¡æ¨¡å¼è§£æä¸å®æˆ˜ã€‹çš„ä½œè€… ä½•çº¢è¾‰ æ‰€ä½œçš„ AndroidEventBus
    //ä¾èµ–å Arms ä¼šè‡ªåŠ¨æ£€æµ‹æ‚¨ä¾èµ–çš„ EventBus å¹¶è‡ªåŠ¨æ³¨å†Œ
    //å»ºè®®ä½¿ç”¨ AndroidEventBus, ç‰¹åˆ«æ˜¯ç»„ä»¶åŒ–é¡¹ç›®, åŸå› è¯·çœ‹ https://github.com/hehonghui/AndroidEventBus/issues/49
    //è¿™ç§åšæ³•å¯ä»¥è®©ä½¿ç”¨è€…æœ‰è‡ªè¡Œé€‰æ‹©ä¸‰æ–¹åº“çš„æƒåˆ©, å¹¶ä¸”è¿˜å¯ä»¥å‡è½» Arms çš„ä½“ç§¯
    implementation rootProject.ext.dependencies["androideventbus"]
    //    implementation rootProject.ext.dependencies["eventbus"]
    implementation 'com.android.support.constraint:constraint-layout:1.1.3'
    annotationProcessor rootProject.ext.dependencies["dagger2-compiler"]
    implementation rootProject.ext.dependencies["progressmanager"]
    implementation rootProject.ext.dependencies["retrofit-url-manager"]
    implementation rootProject.ext.dependencies["lifecyclemodel"]
    //view
    annotationProcessor(rootProject.ext.dependencies["butterknife-compiler"]) {
        exclude module: 'support-annotations'
    }

    implementation rootProject.ext.dependencies["paginate"]
    //arms
    implementation project(':arms')
    //Arms æ ¸å¿ƒåº“ä¸å†åŒ…å« AndroidAutoLayout, å¯è‡ªè¡Œé€‰æ‹©å±å¹•é€‚é…æ–¹æ¡ˆ, ä¸æƒ³ä½¿ç”¨ AndroidAutoLayout å°±ä¸è¦ä¾èµ– arms-autolayout
    //Arms æ ¸å¿ƒåº“ä¸å†åŒ…å« Glide, æƒ³ä½¿ç”¨å…¶ä»–å›¾ç‰‡åŠ è½½æ¡†æ¶æˆ–è€…æƒ³è‡ªè¡Œæ‰©å±• ImageLoaderStrategy å°±ä¸è¦ä¾èµ– arms-imageloader-glide
    //ä¾èµ– arms-imageloader-glide åè¿˜éœ€è¦åœ¨ GlobalConfiguration ä¸­æ‰‹åŠ¨æ³¨å†Œ GlideImageLoaderStrategy
    implementation project(':arms-imageloader-glide')
    //Github ä»“åº“ä¸Šæœ€æ–°çš„ Demo å…·æœ‰ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„æ–°ç‰¹æ€§, æ‰€ä»¥ä¾èµ–æœ€æ–°çš„è¿œç¨‹åº“ä¼šå‡ºç°ç‰ˆæœ¬ä¸å…¼å®¹çš„æƒ…å†µ, è¯¦æƒ…è¯·æŸ¥çœ‹ https://github.com/JessYanCoding/MVPArms/wiki/Issues#2
    //        implementation 'me.jessyan:arms:2.5.0'
    //test
    testImplementation rootProject.ext.dependencies["junit"]
    debugImplementation rootProject.ext.dependencies["canary-debug"]
    releaseImplementation rootProject.ext.dependencies["canary-release"]
    testImplementation rootProject.ext.dependencies["canary-release"]
    implementation rootProject.ext.dependencies["autosize"]

    implementation rootProject.ext.dependencies["pickerview"]
    api project(':ThirdLibrarys:xrecyclerview')


//    api rootProject.ext.dependencies["LargeImageView"]
    //äºŒç»´ğŸ
    implementation rootProject.ext.dependencies["bga-qrcode-zxing"]

    implementation rootProject.ext.dependencies["PictureSelector"]

//    implementation rootProject.ext.dependencies["cardview-v7"]
    implementation rootProject.ext.dependencies["design"]

    implementation rootProject.ext.dependencies["svg"]

    //å•å…ƒæµ‹è¯•å¯ä»¥è°ƒåŠ¨ui
    testImplementation 'org.robolectric:robolectric:3.8'
    testImplementation "org.robolectric:shadows-support-v4:3.4-rc2"
    //ä¾èµ–éš”ç¦»
    testImplementation "org.mockito:mockito-core:2.11.0"
    //Retrofit test
    testImplementation   "com.squareup.retrofit2:converter-gson:2.4.0"
    testImplementation ("com.squareup.retrofit2:adapter-rxjava2:2.4.0"){
        exclude module: 'rxjava'
    }
}
